
/* !!! This is code generated by Prisma. Do not edit directly. !!! */
/* eslint-disable */
// biome-ignore-all lint: generated file
// @ts-nocheck 
import * as $runtime from "@prisma/client/runtime/client"

/**
 * @param uuid
 * @param jsonb
 */
export const addWeeklySlots = $runtime.makeTypedQueryFactory("\n\nWITH input AS (SELECT *\nFROM jsonb_to_recordset(($2::jsonb) -> 'slots') AS x(\nweekday int,\n\"startAt\" text,\n\"endAt\" text\n)),\nins AS (\nINSERT\nINTO doctor_weekly_slots (doctor_id, weekday, time_range)\nSELECT $1::uuid AS doctor_id, i.weekday,\ntsrange(i.\"startAt\"::timestamp, i.\"endAt\"::timestamp, '[)')\nFROM input i ON CONFLICT (doctor_id, weekday, time_range) DO NOTHING\nRETURNING 1\n)\nSELECT (SELECT COUNT(*) ::int FROM input) AS \"inputCount\",\n(SELECT COUNT(*) ::int FROM ins)   AS \"insertedCount\",\n(SELECT COUNT(*) FROM input) - (SELECT COUNT(*) FROM ins) ::int AS \"skippedCount\";") as (uuid: string, jsonb: $runtime.InputJsonObject) => $runtime.TypedSql<addWeeklySlots.Parameters, addWeeklySlots.Result>

export namespace addWeeklySlots {
  export type Parameters = [uuid: string, jsonb: $runtime.InputJsonObject]
  export type Result = {
    inputCount: number | null
    insertedCount: number | null
    skippedCount: bigint | null
  }
}
